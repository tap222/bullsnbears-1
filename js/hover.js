(function(k,p){function q(){a.READY||(a.event.determineEventTypes(),a.utils.each(a.gestures,function(b){a.detection.register(b)}),a.event.onTouch(a.DOCUMENT,a.EVENT_MOVE,a.detection.detect),a.event.onTouch(a.DOCUMENT,a.EVENT_END,a.detection.detect),a.READY=!0)}var a=function(b,c){return new a.Instance(b,c||{})};a.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};a.HAS_POINTEREVENTS=k.navigator.pointerEnabled||
k.navigator.msPointerEnabled;a.HAS_TOUCHEVENTS="ontouchstart"in k;a.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android|silk/i;a.NO_MOUSEEVENTS=a.HAS_TOUCHEVENTS&&k.navigator.userAgent.match(a.MOBILE_REGEX);a.EVENT_TYPES={};a.DIRECTION_DOWN="down";a.DIRECTION_LEFT="left";a.DIRECTION_UP="up";a.DIRECTION_RIGHT="right";a.POINTER_MOUSE="mouse";a.POINTER_TOUCH="touch";a.POINTER_PEN="pen";a.EVENT_START="start";a.EVENT_MOVE="move";a.EVENT_END="end";a.DOCUMENT=k.document;a.plugins=a.plugins||{};a.gestures=
a.gestures||{};a.READY=!1;a.utils={extend:function(b,a,d){for(var e in a)b[e]!==p&&d||(b[e]=a[e]);return b},each:function(b,a,d){if("forEach"in b)b.forEach(a,d);else if(b.length!=p)for(var e=0,f=b.length;e<f&&!1!==a.call(d,b[e],e,b);e++);else for(e in b)if(b.hasOwnProperty(e)&&!1===a.call(d,b[e],e,b))break},hasParent:function(b,a){for(;b;){if(b==a)return!0;b=b.parentNode}return!1},getCenter:function(b){var c=[],d=[];a.utils.each(b,function(b){c.push("undefined"!==typeof b.clientX?b.clientX:b.pageX);
d.push("undefined"!==typeof b.clientY?b.clientY:b.pageY)});return{pageX:(Math.min.apply(Math,c)+Math.max.apply(Math,c))/2,pageY:(Math.min.apply(Math,d)+Math.max.apply(Math,d))/2}},getVelocity:function(b,a,d){return{x:Math.abs(a/b)||0,y:Math.abs(d/b)||0}},getAngle:function(b,a){return 180*Math.atan2(a.pageY-b.pageY,a.pageX-b.pageX)/Math.PI},getDirection:function(b,c){var d=Math.abs(b.pageX-c.pageX),e=Math.abs(b.pageY-c.pageY);return d>=e?0<b.pageX-c.pageX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT:0<b.pageY-
c.pageY?a.DIRECTION_UP:a.DIRECTION_DOWN},getDistance:function(b,a){var d=a.pageX-b.pageX,e=a.pageY-b.pageY;return Math.sqrt(d*d+e*e)},getScale:function(b,a){return 2<=b.length&&2<=a.length?this.getDistance(a[0],a[1])/this.getDistance(b[0],b[1]):1},getRotation:function(a,c){return 2<=a.length&&2<=c.length?this.getAngle(c[1],c[0])-this.getAngle(a[1],a[0]):0},isVertical:function(b){return b==a.DIRECTION_UP||b==a.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(b,c){var d="webkit khtml moz Moz ms o ".split(" ");
c&&b&&b.style&&(a.utils.each(d,function(e){a.utils.each(c,function(a){e&&(a=d+a.substring(0,1).toUpperCase()+a.substring(1));a in b.style&&(b.style[a]=a)})}),"none"==c.userSelect&&(b.onselectstart=function(){return!1}),"none"==c.userDrag&&(b.ondragstart=function(){return!1}))}};a.Instance=function(b,c){var d=this;q();this.element=b;this.enabled=!0;this.options=a.utils.extend(a.utils.extend({},a.defaults),c||{});this.options.stop_browser_behavior&&a.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior);
a.event.onTouch(b,a.EVENT_START,function(b){d.enabled&&a.detection.startDetect(d,b)});return this};a.Instance.prototype={on:function(b,c){var d=b.split(" ");a.utils.each(d,function(a){this.element.addEventListener(a,c,!1)},this);return this},off:function(b,c){var d=b.split(" ");a.utils.each(d,function(a){this.element.removeEventListener(a,c,!1)},this);return this},trigger:function(b,c){c||(c={});var d=a.DOCUMENT.createEvent("Event");d.initEvent(b,!0,!0);d.gesture=c;var e=this.element;a.utils.hasParent(c.target,
e)&&(e=c.target);e.dispatchEvent(d);return this},enable:function(a){this.enabled=a;return this}};var l=null,m=!1,n=!1;a.event={bindDom:function(b,c,d){c=c.split(" ");a.utils.each(c,function(a){b.addEventListener(a,d,!1)})},onTouch:function(b,c,d){var e=this;this.bindDom(b,a.EVENT_TYPES[c],function(f){var h=f.type.toLowerCase();if(!h.match(/mouse/)||!n){h.match(/touch/)||h.match(/pointerdown/)||h.match(/mouse/)&&1===f.which?m=!0:h.match(/mouse/)&&!f.which&&(m=!1);h.match(/touch|pointer/)&&(n=!0);var g=
0;if(m){a.HAS_POINTEREVENTS&&c!=a.EVENT_END?g=a.PointerEvent.updatePointer(c,f):h.match(/touch/)?g=f.touches.length:n||(g=h.match(/up/)?0:1);0<g&&c==a.EVENT_END?c=a.EVENT_MOVE:g||(c=a.EVENT_END);if(g||null===l)l=f;d.call(a.detection,e.collectEventData(b,c,e.getTouchList(l,c),f));a.HAS_POINTEREVENTS&&c==a.EVENT_END&&(g=a.PointerEvent.updatePointer(c,f))}g||(l=null,n=m=!1,a.PointerEvent.reset())}})},determineEventTypes:function(){var b;b=a.HAS_POINTEREVENTS?a.PointerEvent.getEvents():a.NO_MOUSEEVENTS?
["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"];a.EVENT_TYPES[a.EVENT_START]=b[0];a.EVENT_TYPES[a.EVENT_MOVE]=b[1];a.EVENT_TYPES[a.EVENT_END]=b[2]},getTouchList:function(b){if(a.HAS_POINTEREVENTS)return a.PointerEvent.getTouchList();if(b.touches)return b.touches;b.indentifier=1;return[b]},collectEventData:function(b,c,d,e){b=a.POINTER_TOUCH;if(e.type.match(/mouse/)||a.PointerEvent.matchType(a.POINTER_MOUSE,e))b=a.POINTER_MOUSE;
return{center:a.utils.getCenter(d),timeStamp:(new Date).getTime(),target:e.target,touches:d,eventType:c,pointerType:b,srcEvent:e,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation();this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return a.detection.stopDetect()}}}};a.PointerEvent={pointers:{},getTouchList:function(){var b=[];a.utils.each(this.pointers,function(a){b.push(a)});
return b},updatePointer:function(b,c){b==a.EVENT_END?this.pointers={}:(c.identifier=c.pointerId,this.pointers[c.pointerId]=c);return Object.keys(this.pointers).length},matchType:function(b,c){if(!c.pointerType)return!1;var d=c.pointerType,e={};e[a.POINTER_MOUSE]=d===c.MSPOINTER_TYPE_MOUSE||d===a.POINTER_MOUSE;e[a.POINTER_TOUCH]=d===c.MSPOINTER_TYPE_TOUCH||d===a.POINTER_TOUCH;e[a.POINTER_PEN]=d===c.MSPOINTER_TYPE_PEN||d===a.POINTER_PEN;return e[b]},getEvents:function(){return["pointerdown MSPointerDown",
"pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}};a.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(b,c){this.current||(this.stopped=!1,this.current={inst:b,startEvent:a.utils.extend({},c),lastEvent:!1,name:""},this.detect(c))},detect:function(b){if(this.current&&!this.stopped){b=this.extendEventData(b);var c=this.current.inst.options;a.utils.each(this.gestures,function(a){if(!this.stopped&&!1!==
c[a.name]&&!1===a.handler.call(a,b,this.current.inst))return this.stopDetect(),!1},this);this.current&&(this.current.lastEvent=b);b.eventType==a.EVENT_END&&!b.touches.length-1&&this.stopDetect();return b}},stopDetect:function(){this.previous=a.utils.extend({},this.current);this.current=null;this.stopped=!0},extendEventData:function(b){var c=this.current.startEvent;!c||b.touches.length==c.touches.length&&b.touches!==c.touches||(c.touches=[],a.utils.each(b.touches,function(b){c.touches.push(a.utils.extend({},
b))}));var d=b.timeStamp-c.timeStamp,e=b.center.pageX-c.center.pageX,f=b.center.pageY-c.center.pageY,h=a.utils.getVelocity(d,e,f),g,k;"end"===b.eventType?(g=this.current.lastEvent&&this.current.lastEvent.interimAngle,k=this.current.lastEvent&&this.current.lastEvent.interimDirection):(g=this.current.lastEvent&&a.utils.getAngle(this.current.lastEvent.center,b.center),k=this.current.lastEvent&&a.utils.getDirection(this.current.lastEvent.center,b.center));a.utils.extend(b,{deltaTime:d,deltaX:e,deltaY:f,
velocityX:h.x,velocityY:h.y,distance:a.utils.getDistance(c.center,b.center),angle:a.utils.getAngle(c.center,b.center),interimAngle:g,direction:a.utils.getDirection(c.center,b.center),interimDirection:k,scale:a.utils.getScale(c.touches,b.touches),rotation:a.utils.getRotation(c.touches,b.touches),startEvent:c});return b},register:function(b){var c=b.defaults||{};c[b.name]===p&&(c[b.name]=!0);a.utils.extend(a.defaults,c,!0);b.index=b.index||1E3;this.gestures.push(b);this.gestures.sort(function(a,b){return a.index<
b.index?-1:a.index>b.index?1:0});return this.gestures}};a.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,correct_for_drag_min_distance:!0,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(b,c){if(a.detection.current.name!=this.name&&this.triggered)c.trigger(this.name+"end",b),this.triggered=!1;else if(!(0<c.options.drag_max_touches&&b.touches.length>c.options.drag_max_touches))switch(b.eventType){case a.EVENT_START:this.triggered=
!1;break;case a.EVENT_MOVE:if(b.distance<c.options.drag_min_distance&&a.detection.current.name!=this.name)break;if(a.detection.current.name!=this.name&&(a.detection.current.name=this.name,c.options.correct_for_drag_min_distance&&0<b.distance)){var d=Math.abs(c.options.drag_min_distance/b.distance);a.detection.current.startEvent.center.pageX+=b.deltaX*d;a.detection.current.startEvent.center.pageY+=b.deltaY*d;b=a.detection.extendEventData(b)}if(a.detection.current.lastEvent.drag_locked_to_axis||c.options.drag_lock_to_axis&&
c.options.drag_lock_min_distance<=b.distance)b.drag_locked_to_axis=!0;d=a.detection.current.lastEvent.direction;b.drag_locked_to_axis&&d!==b.direction&&(a.utils.isVertical(d)?b.direction=0>b.deltaY?a.DIRECTION_UP:a.DIRECTION_DOWN:b.direction=0>b.deltaX?a.DIRECTION_LEFT:a.DIRECTION_RIGHT);this.triggered||(c.trigger(this.name+"start",b),this.triggered=!0);c.trigger(this.name,b);c.trigger(this.name+b.direction,b);(c.options.drag_block_vertical&&a.utils.isVertical(b.direction)||c.options.drag_block_horizontal&&
!a.utils.isVertical(b.direction))&&b.preventDefault();break;case a.EVENT_END:this.triggered&&c.trigger(this.name+"end",b),this.triggered=!1}}};a.gestures.Release={name:"release",index:Infinity,handler:function(b,c){b.eventType==a.EVENT_END&&c.trigger(this.name,b)}};a.gestures.Touch={name:"touch",index:-Infinity,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(b,c){c.options.prevent_mouseevents&&b.pointerType==a.POINTER_MOUSE?b.stopDetect():(c.options.prevent_default&&b.preventDefault(),
b.eventType==a.EVENT_START&&c.trigger(this.name,b))}};"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"object"===typeof module&&"object"===typeof module.exports?module.exports=a:k.Hammer=a})(this);